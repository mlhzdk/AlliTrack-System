<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="sla_page_title">Service Level Agreement - AlliTrack</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="../../css/help/user-agreement.css">
    <script src="../../js/preference-manager.js" defer></script>
</head>

<body>
    <div class="legal-container">
        <div class="legal-header">
            <h1><i class="fas fa-handshake"></i> <span data-translate="sla_title">Service Level Agreement</span></h1>
            <p><span data-translate="last_updated">Last Updated</span>: <span data-translate="sla_last_updated">January
                    2025</span></p>
        </div>

        <div class="legal-content">
            <div class="highlight-box">
                <strong><span data-translate="important_note">Important</span>:</span></strong>
                <span data-translate="sla_important_note">
                    This Service Level Agreement (SLA) outlines the performance and availability commitments for
                    AlliTrack services.
                    By using our Services, you agree to the terms outlined in this SLA.
                </span>
            </div>

            <div class="section">
                <h2><span data-translate="sla_section_1_title">1. Agreement Overview</span></h2>
                <p data-translate="sla_section_1_content">
                    This Service Level Agreement (SLA) is a policy governing the use of AlliTrack services under the
                    terms of the AlliTrack Terms of Service.
                    This SLA applies separately to each account using AlliTrack services.
                </p>
            </div>

            <div class="section">
                <h2><span data-translate="sla_section_2_title">2. Service Commitment</span></h2>
                <p data-translate="sla_section_2_content">
                    AlliTrack will use commercially reasonable efforts to make the Services available with a Monthly
                    Uptime Percentage of at least 99.9% during any monthly billing cycle.
                </p>
            </div>

            <div class="section">
                <h2><span data-translate="sla_section_3_title">3. Definitions</span></h2>
                <p>
                    <strong data-translate="service_credit_def">"Service Credit"</strong>
                    <span data-translate="service_credit_desc">is a dollar credit, calculated as set forth below, that
                        we may credit back to an eligible account.</span>
                </p>
                <p>
                    <strong data-translate="uptime_def">"Monthly Uptime Percentage"</strong>
                    <span data-translate="uptime_desc">is calculated by subtracting from 100% the percentage of minutes
                        during the month in which the Services were unavailable.</span>
                </p>
                <p>
                    <strong data-translate="unavailable_def">"Unavailable"</strong>
                    <span data-translate="unavailable_desc">means the Services are not accessible or functioning
                        properly for more than 5 consecutive minutes.</span>
                </p>
            </div>

            <div class="section">
                <h2><span data-translate="sla_section_4_title">4. Service Level Specifications</span></h2>
                <p><strong data-translate="uptime_commitment">Uptime Commitment</strong>: 99.9% <span
                        data-translate="monthly_uptime">Monthly Uptime Percentage</span></p>
                <p><strong data-translate="support_response">Support Response Times</strong>:</p>
                <ul>
                    <li><strong data-translate="critical_issues">Critical Issues</strong>: <span
                            data-translate="critical_response">2 business hours during standard support hours</span>
                    </li>
                    <li><strong data-translate="high_priority">High Priority Issues</strong>: <span
                            data-translate="high_response">4 business hours during standard support hours</span></li>
                    <li><strong data-translate="normal_priority">Normal Priority Issues</strong>: <span
                            data-translate="normal_response">1 business day</span></li>
                </ul>
                <p>
                    <strong data-translate="support_hours">Standard Support Hours</strong>:
                    <span data-translate="support_hours_detail">Monday - Friday, 9:00 AM - 6:00 PM PST (excluding
                        holidays)</span>
                </p>
            </div>

            <div class="section">
                <h2><span data-translate="sla_section_5_title">5. Service Credits</span></h2>
                <p data-translate="service_credits_intro">
                    In the event that AlliTrack does not meet the Monthly Uptime Percentage commitment, you will be
                    eligible to receive a Service Credit as described below:
                </p>
                <table class="sla-table" style="width:100%; border-collapse: collapse; margin: 15px 0;">
                    <thead>
                        <tr class="table-header-row">
                            <th class="table-header-cell" data-translate="uptime_column">Monthly Uptime Percentage</th>
                            <th class="table-header-cell" data-translate="credit_column">Service Credit Percentage</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="table-data-cell" data-translate="uptime_99_90">Less than 99.9% but equal to or greater than 99.0%</td>
                            <td class="table-data-cell">10%</td>
                        </tr>
                        <tr>
                            <td class="table-data-cell" data-translate="uptime_99_95">Less than 99.0% but equal to or greater than 95.0%</td>
                            <td class="table-data-cell">25%</td>
                        </tr>
                        <tr>
                            <td class="table-data-cell" data-translate="uptime_below_95">Less than 95.0%</td>
                            <td class="table-data-cell">50%</td>
                        </tr>
                    </tbody>
                </table>
                <p data-translate="service_credits_details">
                    Service Credits will be applied to future payments for the Services. To receive a Service Credit,
                    you must submit a request by sending an email to sales.businessalliance@gmail.com within 30 days of
                    the end of the billing cycle in which the downtime occurred.
                </p>
            </div>

            <div class="section">
                <h2><span data-translate="sla_section_6_title">6. Exclusions</span></h2>
                <p data-translate="exclusions_intro">
                    The Service Commitment does not apply to any unavailability, suspension, or termination of the
                    Services that:
                </p>
                <ul>
                    <li data-translate="exclusion_1">Result from suspension or termination in accordance with the Terms
                        of Service</li>
                    <li data-translate="exclusion_2">Are caused by factors outside of our reasonable control, including
                        any force majeure event</li>
                    <li data-translate="exclusion_3">Result from any actions or inactions by you or any third party</li>
                    <li data-translate="exclusion_4">Result from your equipment, software, or other technology</li>
                    <li data-translate="exclusion_5">Result from scheduled maintenance for which we provide at least 24
                        hours notice</li>
                    <li data-translate="exclusion_6">Arise from our suspension or termination of your right to use the
                        Services</li>
                </ul>
            </div>

            <div class="section">
                <h2><span data-translate="sla_section_7_title">7. Performance Monitoring</span></h2>
                <p data-translate="monitoring_content">
                    AlliTrack continuously monitors service performance and availability. Performance metrics and uptime
                    statistics are available upon request.
                    We will provide regular reports on service performance to customers upon request.
                </p>
            </div>

            <div class="section">
                <h2><span data-translate="sla_section_8_title">8. SLA Modifications</span></h2>
                <p data-translate="modifications_content">
                    AlliTrack may modify this SLA from time to time. Any changes will be posted on our website with an
                    updated "Last Updated" date.
                    Continued use of the Services after such changes constitutes acceptance of the modified SLA.
                </p>
            </div>

            <div class="section">
                <h2><span data-translate="sla_section_9_title">9. Contact Information</span></h2>
                <p data-translate="contact_intro">For SLA-related inquiries or to request Service Credits, please
                    contact us:</p>
                <p>
                    <span data-translate="email_label">Email</span>: sales.businessalliance@gmail.com<br>
                    <span data-translate="address_label">Address</span>: <span data-translate="company_address">Unit 204
                        K-Juan Building, 1st Street cor. T. Gener St., Kamuning, Quezon City, Philippines</span>
                </p>
            </div>

            <div class="legal-footer">
                <a href="../../pages/system-information.html" class="back-button">
                    <i class="fas fa-arrow-left"></i>
                    <span data-translate="back_to_home">Back to Home</span>
                </a>
            </div>
        </div>
    </div>

    <script>
        // Function to detect system theme
        function getSystemTheme() {
            return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }

        // Function to apply theme
        function applyTheme(theme) {
            console.log('Applying theme:', theme);

            // Remove any existing theme classes
            document.body.classList.remove('light-mode', 'dark-mode');

            // Determine which theme to apply
            let actualTheme = theme;
            if (theme === 'auto') {
                actualTheme = getSystemTheme();
            }

            // Apply the correct theme class
            document.body.classList.add(actualTheme + '-mode');
            document.body.setAttribute('data-theme', actualTheme);

            // Update table styles when theme changes
            updateTableStyles(actualTheme);
        }

        // Function to update table styles based on theme
        function updateTableStyles(theme) {
            const tableHeaderRows = document.querySelectorAll('.table-header-row');
            const tableHeaderCells = document.querySelectorAll('.table-header-cell');
            const tableDataCells = document.querySelectorAll('.table-data-cell');
            
            if (theme === 'dark') {
                // Dark mode styles
                tableHeaderRows.forEach(row => {
                    row.style.backgroundColor = 'var(--table-header-bg-dark)';
                });
                tableHeaderCells.forEach(cell => {
                    cell.style.backgroundColor = 'var(--table-header-bg-dark)';
                    cell.style.border = '1px solid var(--table-border-dark)';
                    cell.style.color = 'var(--text-primary-dark)';
                });
                tableDataCells.forEach(cell => {
                    cell.style.border = '1px solid var(--table-border-dark)';
                    cell.style.color = 'var(--text-primary-dark)';
                });
            } else {
                // Light mode styles
                tableHeaderRows.forEach(row => {
                    row.style.backgroundColor = 'var(--table-header-bg)';
                });
                tableHeaderCells.forEach(cell => {
                    cell.style.backgroundColor = 'var(--table-header-bg)';
                    cell.style.border = '1px solid var(--table-border)';
                    cell.style.color = 'var(--text-primary)';
                });
                tableDataCells.forEach(cell => {
                    cell.style.border = '1px solid var(--table-border)';
                    cell.style.color = 'var(--text-primary)';
                });
            }
        }

        // Apply initial theme from localStorage IMMEDIATELY (before DOM loads)
        (function applyInitialTheme() {
            const savedTheme = localStorage.getItem('preferredTheme') || 'light';
            console.log('Applying initial theme:', savedTheme);
            
            // Apply immediately to prevent flash of unstyled content
            const actualTheme = savedTheme === 'auto' ? getSystemTheme() : savedTheme;
            document.body.classList.add(actualTheme + '-mode');
            document.body.setAttribute('data-theme', actualTheme);
        })();

        // Translation dictionary for SLA page
        const translations = {
            'en': {
                // Page header
                'sla_page_title': 'Service Level Agreement - AlliTrack',
                'sla_title': 'Service Level Agreement',
                'last_updated': 'Last Updated',
                'sla_last_updated': 'January 2025',

                // Important note
                'important_note': 'Important',
                'sla_important_note': 'This Service Level Agreement (SLA) outlines the performance and availability commitments for AlliTrack services. By using our Services, you agree to the terms outlined in this SLA.',

                // Section titles
                'sla_section_1_title': '1. Agreement Overview',
                'sla_section_2_title': '2. Service Commitment',
                'sla_section_3_title': '3. Definitions',
                'sla_section_4_title': '4. Service Level Specifications',
                'sla_section_5_title': '5. Service Credits',
                'sla_section_6_title': '6. Exclusions',
                'sla_section_7_title': '7. Performance Monitoring',
                'sla_section_8_title': '8. SLA Modifications',
                'sla_section_9_title': '9. Contact Information',

                // Content translations
                'sla_section_1_content': 'This Service Level Agreement (SLA) is a policy governing the use of AlliTrack services under the terms of the AlliTrack Terms of Service. This SLA applies separately to each account using AlliTrack services.',
                'sla_section_2_content': 'AlliTrack will use commercially reasonable efforts to make the Services available with a Monthly Uptime Percentage of at least 99.9% during any monthly billing cycle.',

                // Definitions
                'service_credit_def': '"Service Credit"',
                'service_credit_desc': 'is a dollar credit, calculated as set forth below, that we may credit back to an eligible account.',
                'uptime_def': '"Monthly Uptime Percentage"',
                'uptime_desc': 'is calculated by subtracting from 100% the percentage of minutes during the month in which the Services were unavailable.',
                'unavailable_def': '"Unavailable"',
                'unavailable_desc': 'means the Services are not accessible or functioning properly for more than 5 consecutive minutes.',

                // Service Level Specifications
                'uptime_commitment': 'Uptime Commitment',
                'monthly_uptime': 'Monthly Uptime Percentage',
                'support_response': 'Support Response Times',
                'critical_issues': 'Critical Issues',
                'critical_response': '2 business hours during standard support hours',
                'high_priority': 'High Priority Issues',
                'high_response': '4 business hours during standard support hours',
                'normal_priority': 'Normal Priority Issues',
                'normal_response': '1 business day',
                'support_hours': 'Standard Support Hours',
                'support_hours_detail': 'Monday - Friday, 9:00 AM - 6:00 PM PST (excluding holidays)',

                // Service Credits
                'service_credits_intro': 'In the event that AlliTrack does not meet the Monthly Uptime Percentage commitment, you will be eligible to receive a Service Credit as described below:',
                'uptime_column': 'Monthly Uptime Percentage',
                'credit_column': 'Service Credit Percentage',
                'uptime_99_90': 'Less than 99.9% but equal to or greater than 99.0%',
                'uptime_99_95': 'Less than 99.0% but equal to or greater than 95.0%',
                'uptime_below_95': 'Less than 95.0%',
                'service_credits_details': 'Service Credits will be applied to future payments for the Services. To receive a Service Credit, you must submit a request by sending an email to sales.businessalliance@gmail.com within 30 days of the end of the billing cycle in which the downtime occurred.',

                // Exclusions
                'exclusions_intro': 'The Service Commitment does not apply to any unavailability, suspension, or termination of the Services that:',
                'exclusion_1': 'Result from suspension or termination in accordance with the Terms of Service',
                'exclusion_2': 'Are caused by factors outside of our reasonable control, including any force majeure event',
                'exclusion_3': 'Result from any actions or inactions by you or any third party',
                'exclusion_4': 'Result from your equipment, software, or other technology',
                'exclusion_5': 'Result from scheduled maintenance for which we provide at least 24 hours notice',
                'exclusion_6': 'Arise from our suspension or termination of your right to use the Services',

                // Monitoring and Modifications
                'monitoring_content': 'AlliTrack continuously monitors service performance and availability. Performance metrics and uptime statistics are available upon request. We will provide regular reports on service performance to customers upon request.',
                'modifications_content': 'AlliTrack may modify this SLA from time to time. Any changes will be posted on our website with an updated "Last Updated" date. Continued use of the Services after such changes constitutes acceptance of the modified SLA.',

                // Contact Information
                'contact_intro': 'For SLA-related inquiries or to request Service Credits, please contact us:',
                'email_label': 'Email',
                'address_label': 'Address',
                'company_address': 'Unit 204 K-Juan Building, 1st Street cor. T. Gener St., Kamuning, Quezon City, Philippines',

                // Footer
                'back_to_home': 'Back to Home',
                'english': 'English',
                'filipino': 'Filipino'
            },
            'fil': {
                // Page header
                'sla_page_title': 'Kasunduan sa Antas ng Serbisyo - AlliTrack',
                'sla_title': 'Kasunduan sa Antas ng Serbisyo',
                'last_updated': 'Huling Na-update',
                'sla_last_updated': 'Enero 2025',

                // Important note
                'important_note': 'Mahalaga',
                'sla_important_note': 'Ang Kasunduan sa Antas ng Serbisyo (SLA) na ito ay naglalarawan ng mga pangako sa pagganap at availability para sa mga serbisyo ng AlliTrack. Sa paggamit ng aming mga Serbisyo, sumasang-ayon ka sa mga tuntuning nakalahad sa SLA na ito.',

                // Section titles
                'sla_section_1_title': '1. Pangkalahatang-ideya ng Kasunduan',
                'sla_section_2_title': '2. Pangako sa Serbisyo',
                'sla_section_3_title': '3. Mga Kahulugan',
                'sla_section_4_title': '4. Mga Espesipikasyon ng Antas ng Serbisyo',
                'sla_section_5_title': '5. Mga Kredito sa Serbisyo',
                'sla_section_6_title': '6. Mga Pagbubukod',
                'sla_section_7_title': '7. Pagsubaybay sa Pagganap',
                'sla_section_8_title': '8. Mga Pagbabago sa SLA',
                'sla_section_9_title': '9. Impormasyon sa Pakikipag-ugnayan',

                // Content translations
                'sla_section_1_content': 'Ang Kasunduan sa Antas ng Serbisyo (SLA) na ito ay isang patakaran na namamahala sa paggamit ng mga serbisyo ng AlliTrack sa ilalim ng mga tuntunin ng AlliTrack Terms of Service. Ang SLA na ito ay nalalapat nang hiwalay sa bawat account na gumagamit ng mga serbisyo ng AlliTrack.',
                'sla_section_2_content': 'Gagamitin ng AlliTrack ang komersyal na makatwirang pagsisikap upang magawang available ang mga Serbisyo na may Monthly Uptime Percentage na hindi bababa sa 99.9% sa panahon ng anumang buwanang siklo ng pagbabayad.',

                // Definitions
                'service_credit_def': '"Service Credit"',
                'service_credit_desc': 'ay isang dolyar na kredito, na kinakalkula gaya ng nakasaad sa ibaba, na maaari naming ibalik sa isang karapat-dapat na account.',
                'uptime_def': '"Monthly Uptime Percentage"',
                'uptime_desc': 'ay kinakalkula sa pamamagitan ng pagbabawas mula sa 100% ang porsyento ng mga minuto sa loob ng buwan kung saan ang mga Serbisyo ay hindi available.',
                'unavailable_def': '"Unavailable"',
                'unavailable_desc': 'nangangahulugan na ang mga Serbisyo ay hindi maa-access o hindi gumagana nang maayos sa loob ng higit sa 5 magkakasunod na minuto.',

                // Service Level Specifications
                'uptime_commitment': 'Pangako sa Uptime',
                'monthly_uptime': 'Buwanang Porsyento ng Uptime',
                'support_response': 'Mga Oras ng Tugon sa Suporta',
                'critical_issues': 'Mga Kritikal na Isyu',
                'critical_response': '2 oras ng negosyo sa karaniwang oras ng suporta',
                'high_priority': 'Mga Isyu na Mataas ang Priyoridad',
                'high_response': '4 oras ng negosyo sa karaniwang oras ng suporta',
                'normal_priority': 'Mga Isyu na Karaniwang Priyoridad',
                'normal_response': '1 araw ng negosyo',
                'support_hours': 'Karaniwang Oras ng Suporta',
                'support_hours_detail': 'Lunes - Biyernes, 9:00 AM - 6:00 PM PST (hindi kasama ang mga holiday)',

                // Service Credits
                'service_credits_intro': 'Kung sakaling hindi matugunan ng AlliTrack ang pangako ng Monthly Uptime Percentage, ikaw ay magiging karapat-dapat na makatanggap ng Service Credit gaya ng inilarawan sa ibaba:',
                'uptime_column': 'Buwanang Porsyento ng Uptime',
                'credit_column': 'Porsyento ng Kredito sa Serbisyo',
                'uptime_99_90': 'Mas mababa sa 99.9% ngunit katumbas o higit sa 99.0%',
                'uptime_99_95': 'Mas mababa sa 99.0% ngunit katumbas o higit sa 95.0%',
                'uptime_below_95': 'Mas mababa sa 95.0%',
                'service_credits_details': 'Ang mga Service Credit ay ilalapat sa mga darating na pagbabayad para sa mga Serbisyo. Upang makatanggap ng Service Credit, dapat kang magsumite ng kahilingan sa pamamagitan ng pagpapadala ng email sa sales.businessalliance@gmail.com sa loob ng 30 araw mula sa pagtatapos ng siklo ng pagbabayad kung saan nangyari ang downtime.',

                // Exclusions
                'exclusions_intro': 'Ang Pangako sa Serbisyo ay hindi nalalapat sa anumang hindi pagkakaroon ng availability, suspensyon, o pagwawakas ng mga Serbisyo na:',
                'exclusion_1': 'Nagresulta mula sa suspensyon o pagwawakas alinsunod sa Terms of Service',
                'exclusion_2': 'Sanhi ng mga salik na labas sa aming makatwirang kontrol, kabilang ang anumang pangyayaring force majeure',
                'exclusion_3': 'Nagresulta mula sa anumang mga aksyon o kawalan ng aksyon mo o ng anumang third party',
                'exclusion_4': 'Nagresulta mula sa iyong kagamitan, software, o iba pang teknolohiya',
                'exclusion_5': 'Nagresulta mula sa nakatakdang pag-aayos kung saan nagbibigay kami ng hindi bababa sa 24 oras na abiso',
                'exclusion_6': 'Nagmumula sa aming suspensyon o pagwawakas ng iyong karapatan na gamitin ang mga Serbisyo',

                // Monitoring and Modifications
                'monitoring_content': 'Patuloy na sinusubaybayan ng AlliTrack ang pagganap at availability ng serbisyo. Ang mga sukatan ng pagganap at mga istatistika ng uptime ay available kapag hiniling. Magbibigay kami ng regular na mga ulat sa pagganap ng serbisyo sa mga customer kapag hiniling.',
                'modifications_content': 'Maaaring baguhin ng AlliTrack ang SLA na ito paminsan-minsan. Ang anumang mga pagbabago ay ipapaskil sa aming website na may na-update na "Huling Na-update" na petsa. Ang patuloy na paggamit ng mga Serbisyo pagkatapos ng gayong mga pagbabago ay bumubuo ng pagtanggap ng binagong SLA.',

                // Contact Information
                'contact_intro': 'Para sa mga katanungan na may kaugnayan sa SLA o upang humiling ng Service Credits, mangyaring makipag-ugnayan sa amin:',
                'email_label': 'Email',
                'address_label': 'Address',
                'company_address': 'Unit 204 K-Juan Building, 1st Street cor. T. Gener St., Kamuning, Quezon City, Philippines',

                // Footer
                'back_to_home': 'Bumalik sa Home',
                'english': 'English',
                'filipino': 'Filipino'
            }
        };

        // Initialize the page when DOM is loaded
        document.addEventListener('DOMContentLoaded', function () {
            console.log('SLA page loaded');

            // Setup system theme listener for auto mode
            setupSystemThemeListener();

            // Initialize table with current theme
            const savedTheme = localStorage.getItem('preferredTheme') || 'light';
            const actualTheme = savedTheme === 'auto' ? getSystemTheme() : savedTheme;
            updateTableStyles(actualTheme);

            // Initialize preferences manager
            if (window.preferencesManager) {
                console.log('SLA: Initializing Preferences Manager...');
                window.preferencesManager.initialize();

                // Re-apply theme using preference manager (to ensure consistency)
                const savedTheme = localStorage.getItem('preferredTheme') || 'light';
                applyTheme(savedTheme);

                // Get current language from preferences manager
                const currentLang = window.preferencesManager.getCurrentLanguage() || 'en';
                applyTranslations(currentLang);
                setupLanguageSelector(currentLang);
            } else {
                console.warn('SLA: preferencesManager not found, using localStorage');
                // Apply default language
                const savedLang = localStorage.getItem('preferredLanguage') || 'en';
                applyTranslations(savedLang);
                setupLanguageSelector(savedLang);
            }

            // Setup theme listener to respond to theme changes
            setupThemeListener();
        });

        // Setup system theme listener for auto mode
        function setupSystemThemeListener() {
            if (window.matchMedia) {
                const colorSchemeQuery = window.matchMedia('(prefers-color-scheme: dark)');

                // Set initial listener
                const handleSystemThemeChange = (e) => {
                    const currentSavedTheme = localStorage.getItem('preferredTheme') || 'light';

                    // Only apply system theme if user has selected "auto"
                    if (currentSavedTheme === 'auto') {
                        const newTheme = e.matches ? 'dark' : 'light';
                        console.log('System theme changed to:', newTheme);
                        applyTheme('auto'); // This will use the new system theme

                        // Dispatch event for other components
                        document.dispatchEvent(new CustomEvent('themeChanged', {
                            detail: { theme: newTheme }
                        }));
                    }
                };

                // Add event listener
                colorSchemeQuery.addEventListener('change', handleSystemThemeChange);
                
                // Also check immediately if we're in auto mode
                const currentSavedTheme = localStorage.getItem('preferredTheme') || 'light';
                if (currentSavedTheme === 'auto') {
                    applyTheme('auto');
                }
            }
        }

        // Setup theme listener
        function setupThemeListener() {
            console.log('Setting up theme listener for SLA...');

            // Listen for theme changes via storage events (when changed from preferences page)
            window.addEventListener('storage', (event) => {
                if (event.key === 'preferredTheme') {
                    console.log('Theme changed via storage (from preferences):', event.newValue);
                    const newTheme = event.newValue || 'light';
                    applyTheme(newTheme);
                }
            });

            // Listen for theme changes via broadcast (when changed within same page)
            document.addEventListener('themeChanged', function (e) {
                console.log('Theme changed via event:', e.detail.theme);
                applyTheme(e.detail.theme);
            });
        }

        // Apply translations to the page
        function applyTranslations(language) {
            const lang = translations[language] ? language : 'en';
            const dict = translations[lang];

            // Translate all elements with data-translate attribute
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (dict[key]) {
                    element.textContent = dict[key];
                }
            });

            // Update page title
            if (dict['sla_page_title']) {
                document.title = dict['sla_page_title'];
            }
        }

        // Setup language selector
        function setupLanguageSelector(currentLang) {
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', function () {
                    const lang = this.getAttribute('data-lang');
                    if (lang && translations[lang]) {
                        // Save language preference (inherits to other pages via preference manager)
                        if (window.preferencesManager) {
                            window.preferencesManager.saveLanguagePreference(lang);
                        } else {
                            localStorage.setItem('preferredLanguage', lang);
                        }

                        // Apply translations
                        applyTranslations(lang);

                        // Update active button
                        document.querySelectorAll('.lang-btn').forEach(b => {
                            b.classList.remove('active');
                        });
                        this.classList.add('active');

                        console.log('Language changed to:', lang);
                    }
                });

                // Set active button
                if (btn.getAttribute('data-lang') === currentLang) {
                    btn.classList.add('active');
                }
            });
        }

        // Listen for language changes from other pages
        document.addEventListener('languageChanged', function (e) {
            console.log('Language changed to:', e.detail.language);
            applyTranslations(e.detail.language);

            // Update active language button
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-lang') === e.detail.language) {
                    btn.classList.add('active');
                }
            });
        });
    </script>
</body>

</html>