<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Preferences - AlliTrack</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="stylesheet" href="../css/sidebar-header.css" />
    <link rel="stylesheet" href="../css/preferences.css" />
    <script src="../js/preference-manager.js"></script>
</head>

<body>
    <div class="app">
        <div class="shell">
            <!-- Sidebar -->
            <aside class="sidebar" role="navigation" aria-label="Main Sidebar">
                <div class="brand">
                    <div class="logo">AT</div>
                    <div>
                        <div class="title">AlliTrack</div>
                        <div class="subtitle">User Dashboard</div>
                    </div>
                </div>
                <nav class="nav">
                    <a href="../pages/index-user.html" data-section="dashboard">
                        <i class="fas fa-chart-line"></i> Dashboard
                    </a>

                    <div class="nav-section">Support</div>
                    <a href="../pages/my-tickets.html" data-section="tickets">
                        <i class="fas fa-ticket-alt"></i> My Tickets
                    </a>
                    <a href="../pages/notifications.html" data-section="notifications">
                        <i class="fas fa-bell"></i> Notifications
                    </a>
                    <a href="../pages/submit-ticket.html" data-section="submit-ticket">
                        <i class="fas fa-plus-circle"></i> Submit a Ticket
                    </a>

                    <div class="nav-section">Management</div>
                    <a href="../pages/preferences.html" class="active" data-section="preferences">
                        <i class="fas fa-sliders-h"></i> Preferences
                    </a>
                    <a href="../pages/profile-settings.html" data-section="profile-settings">
                        <i class="fas fa-user-cog"></i> Profile Settings
                    </a>
                    <a href="../pages/announcements.html" data-section="announcements">
                        <i class="fas fa-bullhorn"></i> Announcements
                    </a>

                    <div class="nav-section">System</div>
                    <a href="../pages/account-security.html" data-section="account-security">
                        <i class="fas fa-shield-alt"></i> Account Security
                    </a>
                    <a href="../pages/system-information.html" data-section="system-information">
                        <i class="fas fa-info-circle"></i> System Information
                    </a>
                </nav>
                <div class="sidebar-footer">
                    <div class="version">v1.2.0</div>
                    <div>Business Alliance Inc.</div>
                </div>
            </aside>

            <!-- Main Content Area -->
            <main class="main">
                <!-- Header -->
                <header class="header">
                    <div class="search" role="search" aria-label="Search Tickets">
                        <i class="fas fa-search" style="opacity:.6"></i>
                        <input id="q" placeholder="Search tickets, users, IDs..." aria-label="Search tickets, users, IDs" />
                    </div>
                    <div class="header-actions">
                        <div style="text-align:right">
                            <div id="userName" style="font-weight:700">User</div>
                            <div id="userEmail" style="font-size:.82rem;color:var(--muted)">user@example.com</div>
                        </div>
                        <div class="account" id="accountBtn" aria-haspopup="true" aria-expanded="false">
                            <div id="userAvatar" class="avatar">U</div>
                            <i class="fas fa-chevron-down" style="opacity:.85"></i>
                        </div>
                        <div class="account-menu" id="accountMenu">
                            <div class="arrow"></div>
                            <a href="../pages/profile-settings.html">Profile</a>
                            <a href="../pages/preferences.html">Settings</a>
                            <a href="#" id="logoutBtn">Logout</a>
                        </div>
                    </div>
                </header>

                <!-- Preferences Content -->
                <div class="content">
                    <div class="preferences-content">
                        <!-- Header with Container -->
                        <div class="preferences-header-container">
                            <div class="preferences-header">
                                <h1><i class="fas fa-sliders-h"></i> Preferences</h1>
                            </div>
                        </div>

                        <!-- Success Message -->
                        <div class="success-message" id="successMessage">
                            <div class="success-icon">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="success-text">Preferences saved successfully!</div>
                        </div>

                        <!-- Preferences Form -->
                        <form class="preferences-container" id="preferencesForm">
                            <!-- Notification Settings -->
                            <div class="preferences-section">
                                <div class="section-header">
                                    <div class="section-icon">
                                        <i class="fas fa-bell"></i>
                                    </div>
                                    <div>
                                        <h2 class="section-title">Notification Settings</h2>
                                        <p class="section-description">Manage how and when you receive notifications</p>
                                    </div>
                                </div>
                                
                                <div class="settings-grid">
                                    <div class="setting-item">
                                        <div class="setting-info">
                                            <div class="setting-title">Email Notifications</div>
                                            <div class="setting-description">Receive email alerts for ticket updates and system announcements</div>
                                        </div>
                                        <div class="setting-control">
                                            <label class="toggle">
                                                <input type="checkbox" id="emailNotifications" checked>
                                                <span class="toggle-slider"></span>
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="setting-item">
                                        <div class="setting-info">
                                            <div class="setting-title">Push Notifications</div>
                                            <div class="setting-description">Show browser notifications for urgent updates</div>
                                        </div>
                                        <div class="setting-control">
                                            <label class="toggle">
                                                <input type="checkbox" id="pushNotifications" checked>
                                                <span class="toggle-slider"></span>
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="setting-item">
                                        <div class="setting-info">
                                            <div class="setting-title">Ticket Updates</div>
                                            <div class="setting-description">Notify me when my tickets are updated or resolved</div>
                                        </div>
                                        <div class="setting-control">
                                            <label class="toggle">
                                                <input type="checkbox" id="ticketUpdates" checked>
                                                <span class="toggle-slider"></span>
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="setting-item">
                                        <div class="setting-info">
                                            <div class="setting-title">New Announcements</div>
                                            <div class="setting-description">Notify me about new system announcements and features</div>
                                        </div>
                                        <div class="setting-control">
                                            <label class="toggle">
                                                <input type="checkbox" id="announcementNotifications" checked>
                                                <span class="toggle-slider"></span>
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="setting-item">
                                        <div class="setting-info">
                                            <div class="setting-title">Weekly Digest</div>
                                            <div class="setting-description">Send weekly summary of all ticket activities</div>
                                        </div>
                                        <div class="setting-control">
                                            <label class="toggle">
                                                <input type="checkbox" id="weeklyDigest">
                                                <span class="toggle-slider"></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Language Settings -->
                            <div class="preferences-section">
                                <div class="section-header">
                                    <div class="section-icon">
                                        <i class="fas fa-language"></i>
                                    </div>
                                    <div>
                                        <h2 class="section-title">Language Settings</h2>
                                        <p class="section-description">Set your preferred language for the entire dashboard</p>
                                    </div>
                                </div>
                                
                                <div class="settings-grid">
                                    <div class="setting-item">
                                        <div class="setting-info">
                                            <div class="setting-title">Dashboard Language</div>
                                            <div class="setting-description">This will change the language across all pages of your dashboard</div>
                                        </div>
                                        <div class="setting-control">
                                            <select class="select-control" id="language">
                                                <option value="en">English</option>
                                                <option value="fil">Filipino</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Theme Settings -->
                            <div class="preferences-section">
                                <div class="section-header">
                                    <div class="section-icon">
                                        <i class="fas fa-palette"></i>
                                    </div>
                                    <div>
                                        <h2 class="section-title">Theme Settings</h2>
                                        <p class="section-description">Customize your dashboard appearance</p>
                                    </div>
                                </div>
                                
                                <div class="settings-grid">
                                    <div class="setting-item">
                                        <div class="setting-info">
                                            <div class="setting-title">Theme Mode</div>
                                            <div class="setting-description">Switch between light and dark theme</div>
                                        </div>
                                        <div class="setting-control">
                                            <div class="theme-options">
                                                <button type="button" class="theme-option active" data-theme="auto">
                                                    <i class="fas fa-desktop"></i> Auto
                                                </button>
                                                <button type="button" class="theme-option" data-theme="light">
                                                    <i class="fas fa-sun"></i> Light
                                                </button>
                                                <button type="button" class="theme-option" data-theme="dark">
                                                    <i class="fas fa-moon"></i> Dark
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Form Actions -->
                            <div class="form-actions">
                                <button type="button" class="btn btn-secondary" onclick="resetPreferences()">
                                    <i class="fas fa-undo"></i> Reset to Defaults
                                </button>
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-save"></i> Save Preferences
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Footer -->
                <footer class="site-footer">
                    <div>&copy; 2025 Business Alliance Inc.</div>
                    <div>Dashboard Template</div>
                </footer>
            </main>
        </div>
    </div>

<script>
    // Initialize preferences page
    document.addEventListener('DOMContentLoaded', function() {
        console.log('Preferences page loading...');
        
        // Check if preferencesManager exists
        if (window.preferencesManager) {
            console.log('Initializing Preferences Manager for preferences page...');
            
            // Initialize the manager - it will handle everything
            window.preferencesManager.initialize();
        } else {
            console.error('Preferences Manager not found! Check script path.');
        }
    });
</script>
</body>
</html>