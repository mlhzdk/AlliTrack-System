<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookies Management - AlliTrack</title>
    <meta name="description" content="AlliTrack Cookies Management. Learn about how we use cookies and how to manage your preferences.">
    <link rel="stylesheet" href="../css/cookie.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <script src="../js/accessibility.js"></script>
</head>

<body>
    <!-- Accessibility Menu -->
    <div class="accessibility-menu" id="accessibilityMenu">
        <button class="accessibility-toggle" id="accessibilityToggle" aria-label="Open accessibility menu">
            <i class="fas fa-universal-access" aria-hidden="true"></i>
        </button>
        <div class="accessibility-panel" id="accessibilityPanel">
            <div class="accessibility-header">
                <h3>Accessibility Settings</h3>
                <button class="close-panel" id="closeAccessibility" aria-label="Close accessibility menu">
                    <i class="fas fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <div class="accessibility-controls">
                <div class="control-group">
                    <h4>Theme</h4>
                    <div class="theme-toggle">
                        <button class="theme-btn active" data-theme="light" aria-label="Switch to light mode">
                            <i class="fas fa-sun" aria-hidden="true"></i>
                            <span>Light</span>
                        </button>
                        <button class="theme-btn" data-theme="dark" aria-label="Switch to dark mode">
                            <i class="fas fa-moon" aria-hidden="true"></i>
                            <span>Dark</span>
                        </button>
                    </div>
                </div>

                <div class="control-group">
                    <h4>Text Size</h4>
                    <div class="text-size-controls">
                        <button class="size-btn" id="decreaseFont" aria-label="Decrease text size">
                            <i class="fas fa-minus" aria-hidden="true"></i>
                        </button>
                        <span class="size-label" id="currentFontSize">Medium</span>
                        <button class="size-btn" id="increaseFont" aria-label="Increase text size">
                            <i class="fas fa-plus" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>

                <div class="control-group">
                    <h4>Contrast Mode</h4>
                    <button class="contrast-btn" id="toggleContrast" aria-pressed="false">
                        <span class="btn-label">High Contrast</span>
                        <span class="toggle-switch"></span>
                    </button>
                </div>

                <div class="control-group">
                    <h4>Focus Enhancement</h4>
                    <button class="focus-btn" id="toggleFocus" aria-pressed="false">
                        <span class="btn-label">Highlight Focus</span>
                        <span class="toggle-switch"></span>
                    </button>
                </div>

                <div class="control-group">
                    <h4>Reset All Settings</h4>
                    <button class="reset-btn" id="resetAccessibility" aria-label="Reset all accessibility settings">
                        <i class="fas fa-redo" aria-hidden="true"></i> Reset to Default
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="legal-container">
        <div class="legal-header">
            <h1>Cookies Management</h1>
            <p>Last Updated: January 2025</p>
        </div>

        <div class="legal-content">
            <div class="section">
                <h2>1. What Are Cookies?</h2>
                <p>Cookies are small text files that are stored on your device when you visit our website. They help us
                    provide you with a better experience by remembering your preferences and understanding how you use
                    our services.</p>
            </div>

            <div class="section">
                <h2>2. Types of Cookies We Use</h2>
                <div class="table-container">
                    <table class="cookie-table" aria-label="Types of cookies used on our website">
                        <thead>
                            <tr>
                                <th scope="col">Cookie Type</th>
                                <th scope="col">Purpose</th>
                                <th scope="col">Duration</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Essential Cookies</strong></td>
                                <td>Required for basic website functionality and security</td>
                                <td>Session</td>
                            </tr>
                            <tr>
                                <td><strong>Functional Cookies</strong></td>
                                <td>Remember your preferences and settings</td>
                                <td>1 Year</td>
                            </tr>
                            <tr>
                                <td><strong>Analytics Cookies</strong></td>
                                <td>Help us understand how visitors use our site</td>
                                <td>2 Years</td>
                            </tr>
                            <tr>
                                <td><strong>Performance Cookies</strong></td>
                                <td>Monitor website performance and user experience</td>
                                <td>1 Year</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2>3. Cookie Management</h2>
                <p>You can control and manage cookies in various ways. Please note that removing or blocking cookies may
                    impact your user experience.</p>

                <div class="cookie-controls" role="region" aria-labelledby="cookie-preferences-heading">
                    <h3 id="cookie-preferences-heading">Your Cookie Preferences</h3>
                    <div class="cookie-toggle">
                        <input type="checkbox" id="essential" checked disabled aria-describedby="essential-desc">
                        <label for="essential">
                            <strong>Essential Cookies</strong> 
                            <span class="cookie-desc" id="essential-desc">(Required - Cannot be disabled)</span>
                        </label>
                    </div>
                    <div class="cookie-toggle">
                        <input type="checkbox" id="functional" checked aria-describedby="functional-desc">
                        <label for="functional">
                            <strong>Functional Cookies</strong>
                            <span class="cookie-desc" id="functional-desc">Remember your preferences</span>
                        </label>
                    </div>
                    <div class="cookie-toggle">
                        <input type="checkbox" id="analytics" checked aria-describedby="analytics-desc">
                        <label for="analytics">
                            <strong>Analytics Cookies</strong>
                            <span class="cookie-desc" id="analytics-desc">Help us improve our services</span>
                        </label>
                    </div>
                    <div class="cookie-toggle">
                        <input type="checkbox" id="performance" checked aria-describedby="performance-desc">
                        <label for="performance">
                            <strong>Performance Cookies</strong>
                            <span class="cookie-desc" id="performance-desc">Monitor site performance</span>
                        </label>
                    </div>
                    <button onclick="savePreferences()" class="save-btn" aria-label="Save cookie preferences">
                        Save Preferences
                    </button>
                </div>
            </div>

            <div class="section">
                <h2>4. Browser Controls</h2>
                <p>Most web browsers allow you to control cookies through their settings preferences. However, limiting
                    cookies may affect the functionality of our website.</p>
                <p><strong>To manage cookies in your browser:</strong></p>
                <ul>
                    <li><strong>Chrome:</strong> Settings → Privacy and Security → Cookies</li>
                    <li><strong>Firefox:</strong> Options → Privacy & Security → Cookies</li>
                    <li><strong>Safari:</strong> Preferences → Privacy → Cookies</li>
                    <li><strong>Edge:</strong> Settings → Privacy and Services → Cookies</li>
                </ul>
            </div>

            <div class="section">
                <h2>5. Updates to This Policy</h2>
                <p>We may update this Cookies Management policy from time to time. We will notify you of any changes by
                    posting the new policy on this page and updating the "Last Updated" date.</p>
            </div>

            <a href="../pages/index.html" class="back-button">← Back to Home</a>
        </div>
    </div>

    <script>
        // Accessibility Menu Toggle
        const accessibilityToggle = document.getElementById('accessibilityToggle');
        const accessibilityPanel = document.getElementById('accessibilityPanel');
        const closeAccessibility = document.getElementById('closeAccessibility');

        if (accessibilityToggle) {
            accessibilityToggle.addEventListener('click', () => {
                accessibilityPanel.classList.toggle('open');
            });

            closeAccessibility.addEventListener('click', () => {
                accessibilityPanel.classList.remove('open');
            });

            // Close panel when clicking outside
            document.addEventListener('click', (e) => {
                if (!accessibilityPanel.contains(e.target) && 
                    !accessibilityToggle.contains(e.target) &&
                    accessibilityPanel.classList.contains('open')) {
                    accessibilityPanel.classList.remove('open');
                }
            });
        }

        function savePreferences() {
            const functional = document.getElementById('functional').checked;
            const analytics = document.getElementById('analytics').checked;
            const performance = document.getElementById('performance').checked;

            // In a real implementation, you would save these preferences
            localStorage.setItem('cookiePreferences', JSON.stringify({
                functional,
                analytics,
                performance,
                timestamp: new Date().toISOString()
            }));

            // Show confirmation
            const saveBtn = document.querySelector('.save-btn');
            const originalText = saveBtn.textContent;
            saveBtn.textContent = '✓ Preferences Saved!';
            saveBtn.style.backgroundColor = '#10b981';
            
            setTimeout(() => {
                saveBtn.textContent = originalText;
                saveBtn.style.backgroundColor = '';
            }, 2000);
        }

        // Load saved preferences
        document.addEventListener('DOMContentLoaded', function () {
            const saved = localStorage.getItem('cookiePreferences');
            if (saved) {
                try {
                    const preferences = JSON.parse(saved);
                    document.getElementById('functional').checked = preferences.functional !== false;
                    document.getElementById('analytics').checked = preferences.analytics !== false;
                    document.getElementById('performance').checked = preferences.performance !== false;
                } catch (e) {
                    console.error('Error loading cookie preferences:', e);
                }
            }
        });
    </script>
</body>

</html>